# 日志管理器配置文件
server:
  # 服务器监听地址
  host: "0.0.0.0"
  # 服务器监听端口
  port: 8888
  # 前端静态文件目录，如 ./web 或 ../frontend/build；为空则不托管（需单独启动前端）
  # 生产部署：先 npm run build，将 build 复制到 backend/web，设置 web_dist: "./web"
  web_dist: ""

database:
  # 数据库类型: sqlite, mysql
  type: "mysql"
  # 数据库连接字符串
  # MySQL 格式: user:password@tcp(host:port)/dbname?charset=utf8mb4&parseTime=True&loc=Local
  dsn: "root:Lq19970105@tcp(127.0.0.1:3306)/log_manager?charset=utf8mb4&parseTime=True&loc=Local"

# 日志保留天数（0 表示永久保留）
log_retention_days: 30

# CORS 配置
cors:
  enabled: true
  allow_origins:
    - "http://localhost:3000"
    - "http://127.0.0.1:3000"
  allow_methods:
    - GET
    - POST
    - PUT
    - DELETE
    - OPTIONS
  allow_headers:
    - Content-Type
    - Authorization

# 请求限流配置
rate_limit:
  enabled: true # 是否启用限流
  rate: 100 # 默认 API 每秒允许的请求数
  capacity: 200 # 默认 API 桶容量（突发请求数）
  batch_rate: 1000 # 批量接口（/logs/batch、/metrics/batch）每秒请求数，支撑亿级吞吐
  batch_capacity: 2000
